(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{145:function(e,t,n){},149:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),i=n(20),o=n.n(i),l=(n(86),n(9)),s=n(10),u=n(13),c=n(12),f=n(4);n(88);function h(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var v=function(e){Object(u.a)(n,e);var t=h(n);function n(){var e;return Object(l.a)(this,n),(e=t.call(this)).degree=Math.floor(360*Math.random()),e}return Object(s.a)(n,[{key:"render",value:function(){var e={};return e=this.props.available?"square available":"X"===this.props.chess_pieces?"square head":"O"===this.props.chess_pieces?"square tail":"square",a.a.createElement("button",{className:e,onClick:this.props.handleClick},a.a.createElement("div",{className:"inner",style:{transform:"rotate(".concat(this.degree,"deg)")}}))}}]),n}(a.a.Component),m=8,p=300,d=4,y=[["X","X",null,"X",null,"O","O","O"],["X",null,null,"O",null,null,"O","O"],["X",null,null,null,null,null,null,"O"],["O",null,null,null,null,null,null,"O"],["X",null,null,null,null,null,null,null],["X",null,null,null,null,null,null,null],["X",null,"X",null,"O",null,"O",null],["O",null,"O",null,"X",null,"X",null]];function b(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var g=m;g<8?(console.log("minium size is 8*8"),g=8):g>16&&(console.log("maximum size is 16*16"),g=16),g%2!==0&&(console.log("length must be even"),g++);var _=function(e){Object(u.a)(n,e);var t=b(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"renderSquare",value:function(e,t){var n=this;return a.a.createElement(v,{chess_pieces:this.props.currentState[e][t],available:this.props.currentAvailabeState[e][t],handleClick:function(){return n.props.handleClick(e,t)},key:100*e+t})}},{key:"generateSquares",value:function(e){for(var t=[],n=0;n<=g-1;n++)t.push(this.renderSquare(e,n));return t}},{key:"generateRows",value:function(){for(var e=[],t=0;t<=g-1;t++)e.push(a.a.createElement("div",{className:"board-row",key:"R"+t},this.generateSquares(t)));return e}},{key:"generateFinishPopup",value:function(){if(this.props.number_of_O===this.props.number_of_X)return a.a.createElement("div",{className:"mask"},a.a.createElement("div",{className:"finish_popup tie"},a.a.createElement("span",null,"Tie!")));var e=this.props.number_of_O>this.props.number_of_X?"tail":"head";return a.a.createElement("div",{className:"mask"},a.a.createElement("div",{className:"finish_popup"},a.a.createElement("div",{className:e}),a.a.createElement("span",null,e," is the winner!")))}},{key:"generateInitialPopup",value:function(){var e=this;return a.a.createElement("div",{className:"mask"},a.a.createElement("div",{className:"finish_popup"},a.a.createElement("div",{className:"selection",onClick:function(){e.props.handleModeSelection(!0)}},"Single Player"),a.a.createElement("div",{className:"selection",onClick:function(){e.props.handleModeSelection(!1)}},"Two Players")))}},{key:"render",value:function(){return a.a.createElement("div",{className:"board"},this.props.gameFinished&&this.generateFinishPopup(),this.props.initialization&&this.generateInitialPopup(),this.generateRows())}}]),n}(a.a.Component);function O(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var S=function(e){Object(u.a)(n,e);var t=O(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"generateCoin",value:function(e,t){for(var n="X"===e?"head":"tail",r=[],i=60;t>0;)r.push(a.a.createElement("div",{className:n,style:{bottom:i+"px"},key:i})),i+=10,t--;return r}},{key:"render",value:function(){var e=this.props.x_number,t=this.props.o_number;return a.a.createElement("div",{className:"scores"},a.a.createElement("div",{style:{height:"100%",width:"50%"}},this.generateCoin("X",e),a.a.createElement("div",{style:{position:"absolute",bottom:"0px",width:"80px",textAlign:"center"}},e)),a.a.createElement("div",{style:{height:"100%",width:"50%"}},this.generateCoin("O",t),a.a.createElement("div",{style:{position:"absolute",bottom:"0px",width:"80px",textAlign:"center"}},t)))}}]),n}(a.a.Component),X=n(78),w={X:"O",O:"X",head:"tail",tail:"head"},k=function(e){return w[e]};function A(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=m;j<8?(console.log("min size is 8*8"),j=8):j>16&&(console.log("max size is 16*16"),j=16),j%2!==0&&(console.log("size must be an even number"),j=8);var M=[[0,1],[1,0],[1,1],[1,-1],[-1,1],[-1,-1],[-1,0],[0,-1]],R=function(e){return!(e[0]<0||e[0]>=j)&&!(e[1]<0||e[1]>=j)},F=function(e,t,n,r,a){for(var i=[e+n[0],t+n[1]],o=2,l=1;R(i);){if(null===a[i[0]][i[1]]){o=0,l=0;break}a[i[0]][i[1]]===r||(o=0),i[0]+=n[0],i[1]+=n[1]}return Math.max(o,l)},x={searchForReversiblePieces:function(e,t,n,r){var a,i=[],o=[e,t],l=k(n),s=A(M);try{for(s.s();!(a=s.n()).done;){var u=a.value,c=[].concat(o),f=[],h=[];for(c[0]+=u[0],c[1]+=u[1];R(c)&&null!==r[c[0]][c[1]];){if(r[c[0]][c[1]]===l){f.splice.apply(f,[f.length,0].concat(h));break}h.push(Object(X.a)(c)),c[0]+=u[0],c[1]+=u[1]}i.splice.apply(i,[i.length,0].concat(f))}}catch(v){s.e(v)}finally{s.f()}return i},getSecureAxis:function(e,t,n,r){if(r[e][t]!=n)return 0;for(var a=0,i=0;i<M.length/2;i++){var o=M[M.length-i-1];F(e,t,M[i],n,r)+F(e,t,o,n,r)>=2&&a++}return a},searchAvailable:function(e,t){for(var n=!0,r=Array(j).fill(null),a=[],i=0;i<=j-1;i++)a[i]=r.slice(0);for(var o=j-1;o>=0;o--)for(var l=j-1;l>=0;l--){if(null===t[o][l])this.searchForReversiblePieces(o,l,e,t).length>0&&(a[o][l]=!0,n=!1)}return{availableState:a,noMoreMove:n}},searchAvailableAuto:function(e,t){for(var n=[],r=0;r<j;r++)for(var a=0;a<j;a++)if(null===t[r][a]){var i=x.searchForReversiblePieces(r,a,k(e),t);i.length>0&&n.push({pos:[r,a],reversibles:i})}return n},CaculatePoints:function(e){for(var t={X:0,O:0},n=j-1;n>=0;n--)for(var r=j-1;r>=0;r--)"X"===e[n][r]&&t.X++,"O"===e[n][r]&&t.O++;return t}},N=x;function C(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var z=m;z<8?(console.log("min size is 8*8"),z=8):z>16&&(console.log("max size is 16*16"),z=16),z%2!==0&&(console.log("size must be an even number"),z=8);var I=d,T=function e(t,n,r,a){if(0===r||U(t))return function(e){for(var t=0,n=0,r=0,a=0;a<z;a++)for(var i=0;i<z;i++)"X"===e[a][i]&&t++,"O"===e[a][i]&&n++,r+=N.getSecureAxis(a,i,"X",e);return t-n+r/2}(t);var i=N.searchAvailableAuto(n,t);if(0===i.length)return e(t,k(n),r-1,a);var o,l=1/0,s=-1/0,u=C(i);try{for(u.s();!(o=u.n()).done;){var c=o.value;if(D(c.pos[0],c.pos[1]))return"X"===n?999:-999;if("X"===n&&"O"===a.type){if(s>=a.value)break}else if("O"===n&&"X"===a.type&&l<=a.value)break;var f,h=q(t),v=C(c.reversibles);try{for(v.s();!(f=v.n()).done;){var m=f.value;h[m[0]][m[1]]=n}}catch(d){v.e(d)}finally{v.f()}h[c.pos[0]][c.pos[1]]=n;var p=e(h,k(n),r-1,{type:n,value:"X"===n?s:l});"X"===n?s=Math.max(s,p):l=Math.min(l,p)}}catch(d){u.e(d)}finally{u.f()}return"X"===n?s:l},q=function(e){for(var t=new Array(z),n=0;n<z;n++)t[n]=new Array(z).fill(null);for(var r=z-1;r>=0;r--)for(var a=z-1;a>=0;a--)t[r][a]=e[r][a];return t},D=function(e,t){return 0===e&&0===t||(0===e&&t===z-1||(e===z-1&&0===t||e===z-1&&t===z-1))},U=function(e){for(var t=0,n=0,r=0;r<z;r++)for(var a=0;a<z;a++)"X"===e[r][a]&&t++,"O"===e[r][a]&&n++;return t+n===z*z},W=n(152),B=n(153),G=n(154);function $(e){if("undefined"===typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=function(e,t){if(!e)return;if("string"===typeof e)return J(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return J(e,t)}(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,a,i=!0,o=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return i=e.done,e},e:function(e){o=!0,a=e},f:function(){try{i||null==r.return||r.return()}finally{if(o)throw a}}}}function J(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function H(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var K=a.a.createElement(G.a,{style:{fontSize:24},spin:!0}),L=m;L<8?(console.log("minium size is 8*8"),L=8):L>16&&(console.log("maximum size is 16*16"),L=16),L%2!==0&&(console.log("length must be even"),L++);var Q=function(e){Object(u.a)(n,e);var t=H(n);function n(e){var r;Object(l.a)(this,n),(r=t.call(this,e)).handleModeSelection=function(e){r.setState({_singleMode:e,_gameStarted:!0})};var a=r.initializeGameState();return r.state={_gameStarted:!1,_singleMode:!0,_currentState:a,_currentAvailabeState:r.initializeAvailabeState(a),_isForX:!1,_numberO:2,_numberX:2,_gameFinished:!1,_doubleMove:!1},r}return Object(s.a)(n,[{key:"componentDidMount",value:function(){var e=this;window.SA=function(){var t=function(e){for(var t=[],n=0;n<z;n++)t.push(new Array(z).fill(0));for(var r=0;r<z;r++)for(var a=0;a<z;a++)t[r][a]=N.getSecureAxis(r,a,"O",e);return t}(e.state._currentState);console.log(t)},document.querySelector(".board").style.fontSize=window.innerWidth/10+"px"}},{key:"initializeGameState",value:function(){for(var e=Array(L).fill(null),t=[],n=0;n<=L-1;n++)t[n]=e.slice(0);return t[L/2-1][L/2-1]="X",t[L/2-1][L/2]="O",t[L/2][L/2-1]="O",t[L/2][L/2]="X",t}},{key:"initializeGameState_special",value:function(){return y}},{key:"initializeAvailabeState",value:function(e){for(var t=Array(L).fill(null),n=[],r=0;r<=L-1;r++)n[r]=t.slice(0);return N.searchAvailable("X",e).availableState}},{key:"handleClick",value:function(e,t){if("O"===this.state._currentState[e][t]||"X"===this.state._currentState[e][t])return console.log("occupied!"),!1;if(this.state._gameFinished)return console.log("game is over!"),!1;if(this.state._isForX&&this.state._singleMode)return console.log("not your turn!"),!1;if(!this.state._currentAvailabeState[e][t])return console.log("invalid move!"),!1;var n=this.land(e,t);this.setUpForNextPlayer(n)}},{key:"land",value:function(e,t){var n=this.state._isForX?"X":"O",r=k(n),a=this.state._currentState,i=N.searchForReversiblePieces(e,t,r,this.state._currentState);a[e][t]=n;var o,l=$(i);try{for(l.s();!(o=l.n()).done;){var s=o.value;a[s[0]][s[1]]=n}}catch(u){l.e(u)}finally{l.f()}return this.setState({_currentState:a}),a}},{key:"setUpForNextPlayer",value:function(e){var t=this,n=this.state._isForX?"X":"O",r=k(n),a=N.searchAvailable(n,e),i=N.searchAvailable(r,e),o=N.CaculatePoints(e);if(a.noMoreMove&&i.noMoreMove)this.setState({_gameFinished:!0,_numberO:o.O,_numberX:o.X});else if(U(e))this.setState({_gameFinished:!0,_numberO:o.O,_numberX:o.X});else if(a.noMoreMove){if(this.setState({_currentAvailabeState:i.availableState,_numberO:o.O,_numberX:o.X,_doubleMove:!0}),this.state._singleMode&&"X"===n)new Promise(function(e,t){setTimeout(function(){return e()},p)}).then(function(){t.computerMove(e)});var l=this.state._isForX?"head":"tail";W.a.info(l+" player combo!",2)}else{if(this.setState({_currentAvailabeState:a.availableState,_isForX:"X"===r,_numberO:o.O,_numberX:o.X,_doubleMove:!1}),this.state._singleMode&&"X"===r)new Promise(function(e,t){setTimeout(function(){return e()},p)}).then(function(){t.computerMove(e)})}}},{key:"computerMove",value:function(e){var t=function(e,t){var n=-1/0,r=[0,0],a=k(e),i=N.searchAvailableAuto(a,t);if(1===i.length)return i[0].pos;var o,l=C(i);try{for(l.s();!(o=l.n()).done;){var s=o.value,u=s.pos[0],c=s.pos[1];if(D(u,c)){r=[u,c];break}var f,h=q(t),v=C(s.reversibles);try{for(v.s();!(f=v.n()).done;){var m=f.value;h[m[0]][m[1]]=a}}catch(d){v.e(d)}finally{v.f()}h[u][c]=a;var p=T(h,e,I,{type:"X",value:n});p>n&&(n=p,r=[u,c])}}catch(d){l.e(d)}finally{l.f()}return r}("O",e),n=this.land(t[0],t[1]);this.setUpForNextPlayer(n)}},{key:"clearBoard",value:function(){var e=this.initializeGameState();this.setState({_gameStarted:!1,_singleMode:!0,_currentState:e,_currentAvailabeState:this.initializeAvailabeState(e),_isForX:!1,_numberO:2,_numberX:2,_gameFinished:!1,_doubleMove:!1})}},{key:"render",value:function(){var e=this,t="";if(this.state._gameFinished)t=this.state._numberO>this.state._numberX?"Winner is tail!":this.state._numberO<this.state._numberX?"Winner is head!":"Another round?";else if(this.state._doubleMove){var n=this.state._isForX?"head":"tail",r=this.state._isForX?"tail":"head";t="".concat(r," has no valid moves, so ").concat(n," moves again.")}else t="Current player: "+(this.state._isForX?"head":"tail");return a.a.createElement(a.a.Fragment,null,a.a.createElement("div",{className:"game"},a.a.createElement("div",{className:"game-board"},a.a.createElement("div",{className:"status white_font",style:{display:"inline-block"}},t),a.a.createElement("span",{className:this.state._isForX?"coin_icon head":"coin_icon tail"}),!this.state._gameFinished&&this.state._singleMode&&this.state._isForX&&a.a.createElement(B.a,{indicator:K}),a.a.createElement(_,{initialization:!this.state._gameStarted,currentState:this.state._currentState,currentAvailabeState:this.state._currentAvailabeState,gameFinished:this.state._gameFinished,number_of_O:this.state._numberO,number_of_X:this.state._numberX,handleClick:function(t,n){return e.handleClick(t,n)},handleModeSelection:this.handleModeSelection}),a.a.createElement(S,{x_number:this.state._numberX,o_number:this.state._numberO})),a.a.createElement("button",{className:"clear",onClick:function(){return e.clearBoard()}},"RESET")),a.a.createElement("div",{className:"white_font mobile-status"},"H ",this.state._numberX," : ",this.state._numberO," T"),a.a.createElement("div",{className:"status white_font"},a.a.createElement("ul",{className:"game-info"},a.a.createElement("li",null,"Players take turns placing pieces on the board. After a move, any pieces of the opponent's color that are in the middle of newly placed piece and other current player's pieces will be turned to current player's piece."),a.a.createElement("li",null,"If a move cannot reverse opponent's pieces, then it is invalid. The green zone on the board shows all the valid moves current player can perform"),a.a.createElement("li",null,"Players take alternate turns. If one player can not make a valid move, play passes back to the other player. When neither player can move, the game ends. This occurs when the grid has filled up or when neither player can legally place a piece in any of the remaining squares."),a.a.createElement("li",null,"The object of the game is to have the majority of disks turned to display your color when the last playable empty square is filled."),a.a.createElement("li",null,"If you play alone, you play as tail and you move first, computer play as head."),a.a.createElement("li",null,"Check ",a.a.createElement("a",{href:"https://en.wikipedia.org/wiki/Reversi"},"here")," for additional information"))))}}]),n}(a.a.Component);n(145);function V(e){var t=function(){if("undefined"===typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"===typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(e){return!1}}();return function(){var n,r=Object(f.a)(e);if(t){var a=Object(f.a)(this).constructor;n=Reflect.construct(r,arguments,a)}else n=r.apply(this,arguments);return Object(c.a)(this,n)}}var Y=function(e){Object(u.a)(n,e);var t=V(n);function n(){return Object(l.a)(this,n),t.apply(this,arguments)}return Object(s.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{className:"main"},a.a.createElement(Q,null))}}]),n}(r.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));n(147);o.a.render(a.a.createElement(Y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},81:function(e,t,n){e.exports=n(149)},86:function(e,t,n){},88:function(e,t,n){}},[[81,2,1]]]);
//# sourceMappingURL=main.00ffa868.chunk.js.map